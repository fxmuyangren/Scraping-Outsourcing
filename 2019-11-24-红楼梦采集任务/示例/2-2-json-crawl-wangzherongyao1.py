# coding:utf-8
# 参考：我用Python爬了《王者荣耀盒子》，发现王者荣耀最强套路！  http://mp.weixin.qq.com/s/ggv4teJWr-3WlUMNUvLrow

from urllib.request import urlretrieve
import requests
import os
"""
函数说明:下载《英雄联盟盒子》中的英雄图片
Parameters:
    heros_url - GET请求地址，通过Fiddler抓包获取
    header - header信息
Returns:
    无
Author:
    Jack Cui
Blog:
    http://blog.csdn.net/c406495762
Modify:
    2017-08-07
"""

#在mac系统下，要加上以下两句，才可以使用https
import ssl
ssl._create_default_https_context = ssl._create_unverified_context

def hero_imgs_download(heros_url, headers):
    req = requests.get(url = heros_url, headers = headers).json()
    hero_num = len(req['list'])
    print('一共有%d个英雄' % hero_num)
    hero_images_path = 'hero_images'
    for hero in req['list']:
        print(hero)
        hero_photo_url = hero['cover']
        hero_name = hero['name'] + '.jpg'
        filename = hero_images_path + '/' + hero_name
        if hero_images_path not in os.listdir():
            os.makedirs(hero_images_path)
        urlretrieve(url = hero_photo_url, filename = filename)

if __name__ == '__main__':   
    headers = {'Accept-Charset': 'UTF-8',
            'Accept-Encoding': 'gzip,deflate',
            'User-Agent': 'Dalvik/2.1.0 (Linux; U; Android 6.0.1; MI 5 MIUI/V8.1.6.0.MAACNDI)',
            'X-Requested-With': 'XMLHttpRequest',
            'Content-type': 'application/x-www-form-urlencoded',
            'Connection': 'Keep-Alive',
            'Host': 'gamehelper.gm825.com'}
    heros_url = "http://gamehelper.gm825.com/wzry/hero/list?channel_id=90009a&app_id=h9044j&game_id=7622&game_name=%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80&vcode=12.0.3&version_code=1203&cuid=2654CC14D2D3894DBF5808264AE2DAD7&ovr=6.0.1&device=Xiaomi_MI+5&net_type=1&client_id=1Yfyt44QSqu7PcVdDduBYQ%3D%3D&info_ms=fBzJ%2BCu4ZDAtl4CyHuZ%2FJQ%3D%3D&info_ma=XshbgIgi0V1HxXTqixI%2BKbgXtNtOP0%2Fn1WZtMWRWj5o%3D&mno=0&info_la=9AChHTMC3uW%2BfY8%2BCFhcFw%3D%3D&info_ci=9AChHTMC3uW%2BfY8%2BCFhcFw%3D%3D&mcc=0&clientversion=&bssid=VY%2BeiuZRJ%2FwaXmoLLVUrMODX1ZTf%2F2dzsWn2AOEM0I4%3D&os_level=23&os_id=dc451556fc0eeadb&resolution=1080_1920&dpi=480&client_ip=192.168.0.198&pdunid=a83d20d8"
    hero_imgs_download(heros_url,headers)

    weapon_url = "http://gamehelper.gm825.com/wzry/equip/list?channel_id=90009a&app_id=h9044j&game_id=7622&game_name=%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80&vcode=12.0.3&version_code=1203&cuid=2654CC14D2D3894DBF5808264AE2DAD7&ovr=6.0.1&device=Xiaomi_MI+5&net_type=1&client_id=1Yfyt44QSqu7PcVdDduBYQ%3D%3D&info_ms=fBzJ%2BCu4ZDAtl4CyHuZ%2FJQ%3D%3D&info_ma=XshbgIgi0V1HxXTqixI%2BKbgXtNtOP0%2Fn1WZtMWRWj5o%3D&mno=0&info_la=9AChHTMC3uW%2BfY8%2BCFhcFw%3D%3D&info_ci=9AChHTMC3uW%2BfY8%2BCFhcFw%3D%3D&mcc=0&clientversion=&bssid=VY%2BeiuZRJ%2FwaXmoLLVUrMODX1ZTf%2F2dzsWn2AOEM0I4%3D&os_level=23&os_id=dc451556fc0eeadb&resolution=1080_1920&dpi=480&client_ip=192.168.0.198&pdunid=a83d20d8"
    # 使用requests的json功能
    req = requests.get(url = weapon_url, headers = headers).json()
    print(req['list'])


    '''
    [{'name': '铁剑', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166430f4c.jpeg', 'price': '250', 'type': ['1'], 'equip_id': '1'}, {'name': '匕首', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166470006.jpeg', 'price': '290', 'type': ['1'], 'equip_id': '2'}, {'name': '搏击拳套', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031664925bf.jpeg', 'price': '320', 'type': ['1'], 'equip_id': '3'}, {'name': '吸血之镰', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031664b6c71.jpeg', 'price': '410', 'type': ['1'], 'equip_id': '4'}, {'name': '雷鸣刃', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031664dadc6.jpeg', 'price': '450', 'type': ['1'], 'equip_id': '5'}, {'name': '冲能拳套', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166511710.jpeg', 'price': '550', 'type': ['1'], 'equip_id': '6'}, {'name': '风暴巨剑', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166532f98.jpeg', 'price': '910', 'type': ['1'], 'equip_id': '7'}, {'name': '日冕', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031665565b6.jpeg', 'price': '790', 'type': ['1'], 'equip_id': '8'}, {'name': '狂暴双刃', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166585086.jpeg', 'price': '890', 'type': ['1'], 'equip_id': '9'}, {'name': '陨星', 'icon': 'http://pic.wankacn.com/2017-05-23_5923958d622fb.jpeg', 'price': '1080', 'type': ['1'], 'equip_id': '10'}, {'name': '破甲弓', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031665d5a00.jpeg', 'price': '2100', 'type': ['1'], 'equip_id': '11'}, {'name': '末世', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316660dfb9.jpeg', 'price': '2160', 'type': ['1'], 'equip_id': '12'}, {'name': '名刀·司命', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166638a0f.jpeg', 'price': '1760', 'type': ['1'], 'equip_id': '13'}, {'name': '冰霜长矛', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031666631f5.jpeg', 'price': '1970', 'type': ['1'], 'equip_id': '14'}, {'name': '速击之枪', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166684982.jpeg', 'price': '890', 'type': ['1'], 'equip_id': '15'}, {'name': '制裁之刃', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031666a841f.jpeg', 'price': '1800', 'type': ['1'], 'equip_id': '16'}, {'name': '泣血之刃', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031666c8cd6.jpeg', 'price': '1740', 'type': ['1'], 'equip_id': '17'}, {'name': '无尽战刃', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316670235d.jpeg', 'price': '2140', 'type': ['1'], 'equip_id': '18'}, {'name': '宗师之力', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316673fb5c.jpeg', 'price': '2100', 'type': ['1'], 'equip_id': '19'}, {'name': '闪电匕首', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316676eaab.jpeg', 'price': '1840', 'type': ['1'], 'equip_id': '20'}, {'name': '影刃', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316679f467.jpeg', 'price': '2070', 'type': ['1'], 'equip_id': '21'}, {'name': '暗影战斧', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031667cae0d.jpeg', 'price': '2090', 'type': ['1'], 'equip_id': '22'}, {'name': '破军', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031667ef8fa.jpeg', 'price': '2950', 'type': ['1'], 'equip_id': '23'}, {'name': '纯净苍穹', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031668360eb.jpeg', 'price': '2230', 'type': ['1'], 'equip_id': '24'}, {'name': '逐日之弓', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316685827b.jpeg', 'price': '2100', 'type': ['1'], 'equip_id': '25'}, {'name': '破魔刀', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316687cb14.jpeg', 'price': '2000', 'type': ['1'], 'equip_id': '26'}, {'name': '咒术典籍', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031668ac737.jpeg', 'price': '300', 'type': ['2'], 'equip_id': '27'}, {'name': '蓝宝石', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031668cfbaf.jpeg', 'price': '220', 'type': ['2'], 'equip_id': '28'}, {'name': '炼金护符', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166901023.jpeg', 'price': '120', 'type': ['2'], 'equip_id': '29'}, {'name': '圣者法典', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031669235ba.jpeg', 'price
': '500', 'type': ['2'], 'equip_id': '30'}, {'name': '元素杖', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166951d59.jpeg', 'price': '540', 'type': ['2'], 'equip_id': '31'}, {'name': '大棒', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316697c07c.jpeg', 'price': '820', 'type': ['2'], 'equip_id': '32'}, {'name': '破碎圣杯', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031669a7f1b.jpeg', 'price': '900', 'type': ['2'], 'equip_id': '33'}, {'name': '光辉之剑', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031669dccfb.jpeg', 'price': '730', 'type': ['2'], 'equip_id': '34'}, {'name': '魅影面罩', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166a152dc.jpeg', 'price': '1020', 'type': ['2'], 'equip_id': '35'}, {'name': '进化水晶', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166a36687.jpeg', 'price': '720', 'type': ['2'], 'equip_id': '36'}, {'name': '血族之书', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166a64f84.jpeg', 'price': '1240', 'type': ['2'], 'equip_id': '37'}, {'name': '炽热支配者', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166a89b44.jpeg', 'price': '1950', 'type': ['2'], 'equip_id': '38'}, {'name': '梦魇之牙', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166ab272c.jpeg', 'price': '2050', 'type': ['2'], 'equip_id': '39'}, {'name': '虚无法杖', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166adc5c9.jpeg', 'price': '2110', 'type': ['2'], 'equip_id': '40'}, {'name': '博学者之怒', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166b10ebe.jpeg', 'price': '2300', 'type': ['2'], 'equip_id': '41'}, {'name': '辉月', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166b5c100.jpeg', 'price': '1990', 'type': ['2'], 'equip_id': '42'}, {'name': '回响之杖', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166b83498.jpeg', 'price': '2100', 'type': ['2'], 'equip_id': '43'}, {'name': '冰霜法杖', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166bb25f7.jpeg', 'price': '2100', 'type': ['2'], 'equip_id': '44'}, {'name': '痛苦面具', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166bda9f0.jpeg', 'price': '2040', 'type': ['2'], 'equip_id': '45'}, {'name': '巫术法杖', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166c13089.jpeg', 'price': '2100', 'type': ['2'], 'equip_id': '46'}, {'name': '圣杯', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166c42ac0.jpeg', 'price': '2030', 'type': ['2'], 'equip_id': '47'}, {'name': '时之预言', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166c6d0eb.jpeg', 'price': '2090', 'type': ['2'], 'equip_id': '48'}, {'name': '贤者之书', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166c96be0.jpeg', 'price': '2990', 'type': ['2'], 'equip_id': '49'}, {'name': '噬神之书', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166cc113f.jpeg', 'price': '2090', 'type': ['2'], 'equip_id': '50'}, {'name': '红玛瑙', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166cf2fe3.jpeg', 'price': '300', 'type': ['3'], 'equip_id': '51'}, {'name': '布甲', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166d21f4f.jpeg', 'price': '220', 'type': ['3'], 'equip_id': '52'}, {'name': '抗魔披风', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166d42622.jpeg', 'price': '220', 'type': ['3'], 'equip_id': '53'}, {'name': '提神水晶', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166d65dda.jpeg', 'price': '140', 'type': ['3'], 'equip_id': '54'}, {'name': '力量腰带', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166d8c15a.jpeg', 'price': '900', 'type': ['3'], 'equip_id': '55'}, {'name': '熔炼之心', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166dc52de.jpeg', 'price': '900', 'type': ['3'], 'equip_id': '56'}, {'name': '神隐斗篷', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166e18d55.jpeg', 'price': '1020', 'type': ['3'], 'equip_id': '57'}, {'name': '雪山圆盾', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166e5f1b9.jpeg', 'price': '900', 'type': ['3'], 'equip_id': '58'}, {'name': '守护者之铠', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166ebd3ce.jpeg', 'price': '730', 'type': ['3'], 'equip_id': '59'}, {'name': '近卫荣耀'
, 'icon': 'http://pic.wankacn.com/2017-06-29_5954a8748a5e6.jpeg', 'price': '2010', 'type': ['6'], 'equip_id': '60'}, {'name': '奔狼纹章', 'icon': 'http://pic.wankacn.com/2017-06-29_5954a7581e51d.jpeg', 'price': '2090', 'type': ['6'], 'equip_id': '61'}, {'name': '反伤刺甲', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903166fdacb1.jpeg', 'price': '1840', 'type': ['3'], 'equip_id': '62'}, {'name': '血魔之怒', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031670414cd.jpeg', 'price': '2120', 'type': ['3'], 'equip_id': '63'}, {'name': '红莲斗篷', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031670a4ba6.jpeg', 'price': '1830', 'type': ['3'], 'equip_id': '64'}, {'name': '霸者重装', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316710fa6f.jpeg', 'price': '2370', 'type': ['3'], 'equip_id': '65'}, {'name': '不祥征兆', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316716e6b4.jpeg', 'price': '2180', 'type': ['3'], 'equip_id': '66'}, {'name': '不死鸟之眼', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031671e758b.jpeg', 'price': '2100', 'type': ['3'], 'equip_id': '67'}, {'name': '魔女斗篷', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903167253618.jpeg', 'price': '1870', 'type': ['3'], 'equip_id': '68'}, {'name': '极寒风暴', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316729a783.jpeg', 'price': '2100', 'type': ['3'], 'equip_id': '69'}, {'name': '冰痕之握', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031673015bb.jpeg', 'price': '2020', 'type': ['3'], 'equip_id': '70'}, {'name': '贤者的庇护', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903167373752.jpeg', 'price': '2080', 'type': ['3'], 'equip_id': '71'}, {'name': '暴烈之甲', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031673cf2f8.jpeg', 'price': '1820', 'type': ['3'], 'equip_id': '72'}, {'name': '神速之靴', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316743ab06.jpeg', 'price': '250', 'type': ['4'], 'equip_id': '73'}, {'name': '影忍之足', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316747f9e3.jpeg', 'price': '690', 'type': ['4'], 'equip_id': '74'}, {'name': '抵抗之靴', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031675e2f15.jpeg', 'price': '690', 'type': ['4'], 'equip_id': '75'}, {'name': '冷静之靴', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031676397b3.jpeg', 'price': '710', 'type': ['4'], 'equip_id': '76'}, {'name': '秘法之靴', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316769cf9c.jpeg', 'price': '790', 'type': ['4'], 'equip_id': '77'}, {'name': '急速战靴', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031676e7402.jpeg', 'price': '710', 'type': ['4'], 'equip_id': '78'}, {'name': '疾步之靴', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903167739ff8.jpeg', 'price': '630', 'type': ['4'], 'equip_id': '79'}, {'name': '狩猎宽刃', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316779c6d6.jpeg', 'price': '250', 'type': ['5'], 'equip_id': '80'}, {'name': '游击弯刀', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031677e2592.jpeg', 'price': '750', 'type': ['5'], 'equip_id': '81'}, {'name': '巡守利斧', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903167838a26.jpeg', 'price': '750', 'type': ['5'], 'equip_id': '82'}, {'name': '追击刀锋', 'icon': 'http://pictest.wankacn.com/2017-04-28_5903167882d00.jpeg', 'price': '750', 'type': ['5'], 'equip_id': '83'}, {'name': '符文大剑', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031678ccf7c.jpeg', 'price': '1490', 'type': ['5'], 'equip_id': '84'}, {'name': '巨人之握', 'icon': 'http://pictest.wankacn.com/2017-04-28_590316793b01e.jpeg', 'price': '1500', 'type': ['5'], 'equip_id': '85'}, {'name': '贪婪之噬', 'icon': 'http://pictest.wankacn.com/2017-04-28_59031679826b5.jpeg', 'price': '1460', 'type': ['5'], 'equip_id': '86'}, {'name': '学识宝石', 'icon': 'http://pic.wankacn.com/2017-06-29_59549f0d42e5e.jpeg', 'price': '300', 'type': ['6'], 'equip_id': '87'}, {'name': '凤鸣指环', 'icon': 'http://pic.wankacn.com/2017-06-29_59549f9d6f0ad.jpeg', 'price': '1070', 'type': ['6'], 'equip_id': '88'}, {'name': '极影', 'icon': 'http://pic.wankacn.com/2017-06-29_5954a21d0bf78.jpeg'
, 'price': '1910', 'type': ['6'], 'equip_id': '89'}, {'name': '风之轻语', 'icon': 'http://pic.wankacn.com/2017-06-29_5954a50aeeda9.jpeg', 'price': '1010', 'type': ['6'], 'equip_id': '90'}, {'name': '救赎之翼', 'icon': 'http://pic.wankacn.com/2017-06-29_5954a5a528a01.jpeg', 'price': '1800', 'type': ['6'], 'equip_id': '91'}, {'name': '风灵纹章', 'icon': 'http://pic.wankacn.com/2017-06-29_5954a6c595a8f.jpeg', 'price': '1180', 'type': ['6'], 'equip_id': '92'}, {'name': '鼓舞之盾', 'icon': 'http://pic.wankacn.com/2017-06-29_5954a7cec3ae8.jpeg', 'price': '1210', 'type': ['6'], 'equip_id': '93'}]
'''